shadow$provide.module$node_modules$react_desktop$src$SearchField$macOs$index=function(global,process,require,module,exports,shadow$shims){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&
null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=
arguments[i],key;for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;"value"in descriptor&&(descriptor.writable=!0);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,
protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}(),_dec,_class,_class2,_temp;global=require("module$node_modules$react$index");var _react2=_interopRequireDefault(global);process=require("module$node_modules$prop_types$index");process=_interopRequireDefault(process);module=require("module$node_modules$react_dom$index");var _reactDom2=_interopRequireDefault(module);module=require("module$node_modules$react_desktop$src$TextInput$macOs$index");var _macOs2=_interopRequireDefault(module),
icon=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);newObj.default=obj;return newObj}(require("module$node_modules$react_desktop$src$SearchField$macOs$icons"));module=require("module$node_modules$react_desktop$src$SearchField$macOs$styles$10_11");var _2=_interopRequireDefault(module);module=require("module$node_modules$react_desktop$src$SearchField$macOs$cancelAnimation");var _cancelAnimation2=
_interopRequireDefault(module);require=require("module$node_modules$react_desktop$src$ValueRef");require=_interopRequireDefault(require);require=(_dec=(0,require.default)(),_dec(_class=(_temp=_class2=function(_Component){function SearchInput(){if(!(this instanceof SearchInput))throw new TypeError("Cannot call a class as a function");var _this=_possibleConstructorReturn(this,(SearchInput.__proto__||Object.getPrototypeOf(SearchInput)).call(this));_this.handleCancelMouseDown=function(e){e.preventDefault();
e.stopPropagation()};_this.handleCancelClick=function(){var element=_reactDom2.default.findDOMNode(_this.refs.input).getElementsByTagName("INPUT")[0];element.setSelectionRange(0,element.value.length);setTimeout(function(){element.value="";var event=document.createEvent("HTMLEvents");event.initEvent("change",!1,!0);element.dispatchEvent(event);event=new Event("input",{bubbles:!0});element.dispatchEvent(event);element.blur();if(_this.props.onCancel)_this.props.onCancel()},200)};_this.handleChange=function(e){_this.props.cancel&&
(e.target.value&&!_this.state.showCancel?_this.setState({showCancel:!0}):!e.target.value&&_this.state.showCancel&&_this.setState({showCancel:!1}));if("function"===typeof _this.props.onChange)_this.props.onChange(e)};_this.handleKeyDown=function(e){if(27===e.keyCode){var element=_reactDom2.default.findDOMNode(_this.refs.input).getElementsByTagName("INPUT")[0];element.value="";var event=document.createEvent("HTMLEvents");event.initEvent("change",!1,!0);element.dispatchEvent(event);event=new Event("input",
{bubbles:!0});element.dispatchEvent(event);setTimeout(function(){return element.blur()},10)}if("function"===typeof _this.props.onKeyDown)_this.props.onKeyDown(e)};_this.state={showCancel:!1};return _this}_inherits(SearchInput,_Component);_createClass(SearchInput,[{key:"componentDidUpdate",value:function(prevProps,prevState){!prevState.showCancel&&this.state.showCancel&&(0,_cancelAnimation2.default)(_reactDom2.default.findDOMNode(this.refs.cancel))}},{key:"render",value:function(){var _props=this.props,
cancel=_props.cancel,keys=["cancel"],target={},i;for(i in _props)0<=keys.indexOf(i)||Object.prototype.hasOwnProperty.call(_props,i)&&(target[i]=_props[i]);delete target.onCancel;return _react2.default.createElement("div",{style:_2.default.container},_react2.default.createElement(_macOs2.default,_extends({ref:"input",icon:this.searchIcon,rounded:!0,centerPlaceholder:!0,style:{paddingRight:"19px"}},target,{onKeyDown:this.handleKeyDown,onChange:this.handleChange})),cancel&&this.state.showCancel?_react2.default.createElement("a",
{ref:"cancel",onMouseDown:this.handleCancelMouseDown,onClick:this.handleCancelClick,style:_2.default.cancel},this.cancelIcon):null)}},{key:"searchIcon",get:function(){return window&&1.5<window.devicePixelRatio?icon.searchIcon2x:icon.searchIcon1x}},{key:"cancelIcon",get:function(){return window&&1.5<window.devicePixelRatio?icon.cancelIcon2x:icon.cancelIcon1x}}]);return SearchInput}(global.Component),_class2.propTypes={onCancel:process.default.func,cancel:process.default.bool},_class2.defaultProps=
{cancel:!0},_temp))||_class);exports.default=require}
//# sourceMappingURL=module$node_modules$react_desktop$src$SearchField$macOs$index.js.map
