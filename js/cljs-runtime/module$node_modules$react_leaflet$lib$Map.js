shadow$provide.module$node_modules$react_leaflet$lib$Map=function(global,process,require,module,exports,shadow$shims){global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");exports.__esModule=!0;exports.default=void 0;var _objectWithoutPropertiesLoose2=global(require("module$node_modules$$babel$runtime$helpers$objectWithoutPropertiesLoose")),_inheritsLoose2=global(require("module$node_modules$$babel$runtime$helpers$inheritsLoose")),_assertThisInitialized2=global(require("module$node_modules$$babel$runtime$helpers$assertThisInitialized")),
_defineProperty2=global(require("module$node_modules$$babel$runtime$helpers$defineProperty")),_omit2=global(require("module$node_modules$lodash$omit")),_leaflet=require("module$node_modules$leaflet$dist$leaflet_src"),_react=global(require("module$node_modules$react$index")),_context=require("module$node_modules$react_leaflet$lib$context");process=global(require("module$node_modules$react_leaflet$lib$MapEvented"));var _updateClassName=global(require("module$node_modules$react_leaflet$lib$utils$updateClassName")),
OTHER_PROPS="children className id style useFlyTo whenReady".split(" "),normalizeCenter=function(pos){return Array.isArray(pos)?[pos[0],pos[1]]:[pos.lat,pos.lon?pos.lon:pos.lng]};require=function(_MapEvented){function Map(){for(var _this,_len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];_this=_MapEvented.call.apply(_MapEvented,[this].concat(args))||this;(0,_defineProperty2.default)((0,_assertThisInitialized2.default)((0,_assertThisInitialized2.default)(_this)),
"className",void 0);(0,_defineProperty2.default)((0,_assertThisInitialized2.default)((0,_assertThisInitialized2.default)(_this)),"contextValue",void 0);(0,_defineProperty2.default)((0,_assertThisInitialized2.default)((0,_assertThisInitialized2.default)(_this)),"container",void 0);(0,_defineProperty2.default)((0,_assertThisInitialized2.default)((0,_assertThisInitialized2.default)(_this)),"viewport",{center:void 0,zoom:void 0});(0,_defineProperty2.default)((0,_assertThisInitialized2.default)((0,_assertThisInitialized2.default)(_this)),
"_updating",!1);(0,_defineProperty2.default)((0,_assertThisInitialized2.default)((0,_assertThisInitialized2.default)(_this)),"onViewportChange",function(){var center=_this.leafletElement.getCenter();_this.viewport={center:center?[center.lat,center.lng]:void 0,zoom:_this.leafletElement.getZoom()};if(_this.props.onViewportChange&&!_this._updating)_this.props.onViewportChange(_this.viewport)});(0,_defineProperty2.default)((0,_assertThisInitialized2.default)((0,_assertThisInitialized2.default)(_this)),
"onViewportChanged",function(){if(_this.props.onViewportChanged&&!_this._updating)_this.props.onViewportChanged(_this.viewport)});(0,_defineProperty2.default)((0,_assertThisInitialized2.default)((0,_assertThisInitialized2.default)(_this)),"bindContainer",function(container){_this.container=container});return _this}(0,_inheritsLoose2.default)(Map,_MapEvented);var _proto=Map.prototype;_proto.createLeafletElement=function(props){var viewport=props.viewport;props=(0,_objectWithoutPropertiesLoose2.default)(props,
["viewport"]);viewport&&(viewport.center&&(props.center=viewport.center),"number"===typeof viewport.zoom&&(props.zoom=viewport.zoom));return new _leaflet.Map(this.container,props)};_proto.updateLeafletElement=function(fromProps,toProps){this._updating=!0;var animate=toProps.animate,bounds=toProps.bounds,boundsOptions=toProps.boundsOptions,boxZoom=toProps.boxZoom,center=toProps.center,className=toProps.className,doubleClickZoom=toProps.doubleClickZoom,dragging=toProps.dragging,keyboard=toProps.keyboard,
maxBounds=toProps.maxBounds,scrollWheelZoom=toProps.scrollWheelZoom,tap=toProps.tap,touchZoom=toProps.touchZoom,useFlyTo=toProps.useFlyTo,viewport=toProps.viewport;toProps=toProps.zoom;(0,_updateClassName.default)(this.container,fromProps.className,className);viewport&&viewport!==fromProps.viewport?(center=viewport.center?viewport.center:center,viewport=null==viewport.zoom?toProps:viewport.zoom,!0===useFlyTo?this.leafletElement.flyTo(center,viewport,{animate:animate}):this.leafletElement.setView(center,
viewport,{animate:animate})):center&&this.shouldUpdateCenter(center,fromProps.center)?!0===useFlyTo?this.leafletElement.flyTo(center,toProps,{animate:animate}):this.leafletElement.setView(center,toProps,{animate:animate}):"number"===typeof toProps&&toProps!==fromProps.zoom&&(null==fromProps.zoom?this.leafletElement.setView(center,toProps):this.leafletElement.setZoom(toProps));maxBounds&&this.shouldUpdateBounds(maxBounds,fromProps.maxBounds)&&this.leafletElement.setMaxBounds(maxBounds);bounds&&(this.shouldUpdateBounds(bounds,
fromProps.bounds)||boundsOptions!==fromProps.boundsOptions)&&(!0===useFlyTo?this.leafletElement.flyToBounds(bounds,boundsOptions):this.leafletElement.fitBounds(bounds,boundsOptions));boxZoom!==fromProps.boxZoom&&(!0===boxZoom?this.leafletElement.boxZoom.enable():this.leafletElement.boxZoom.disable());doubleClickZoom!==fromProps.doubleClickZoom&&(!0===doubleClickZoom?this.leafletElement.doubleClickZoom.enable():this.leafletElement.doubleClickZoom.disable());dragging!==fromProps.dragging&&(!0===dragging?
this.leafletElement.dragging.enable():this.leafletElement.dragging.disable());keyboard!==fromProps.keyboard&&(!0===keyboard?this.leafletElement.keyboard.enable():this.leafletElement.keyboard.disable());scrollWheelZoom!==fromProps.scrollWheelZoom&&(!0===scrollWheelZoom||"string"===typeof scrollWheelZoom?(this.leafletElement.options.scrollWheelZoom=scrollWheelZoom,this.leafletElement.scrollWheelZoom.enable()):this.leafletElement.scrollWheelZoom.disable());tap!==fromProps.tap&&(!0===tap?this.leafletElement.tap.enable():
this.leafletElement.tap.disable());touchZoom!==fromProps.touchZoom&&(!0===touchZoom||"string"===typeof touchZoom?(this.leafletElement.options.touchZoom=touchZoom,this.leafletElement.touchZoom.enable()):this.leafletElement.touchZoom.disable());this._updating=!1};_proto.componentDidMount=function(){var props=(0,_omit2.default)(this.props,OTHER_PROPS);this.leafletElement=this.createLeafletElement(props);this.leafletElement.on("move",this.onViewportChange);this.leafletElement.on("moveend",this.onViewportChanged);
null!=props.bounds&&this.leafletElement.fitBounds(props.bounds,props.boundsOptions);this.props.whenReady&&this.leafletElement.whenReady(this.props.whenReady);this.contextValue={layerContainer:this.leafletElement,map:this.leafletElement};_MapEvented.prototype.componentDidMount.call(this);this.forceUpdate()};_proto.componentDidUpdate=function(prevProps){this.updateLeafletElement(prevProps,this.props)};_proto.componentWillUnmount=function(){_MapEvented.prototype.componentWillUnmount.call(this);this.leafletElement.off("move",
this.onViewportChange);this.leafletElement.off("moveend",this.onViewportChanged);!0===this.props.preferCanvas?(this.leafletElement._initEvents(!0),this.leafletElement._stop()):this.leafletElement.remove()};_proto.shouldUpdateCenter=function(next,prev){if(!prev)return!0;next=normalizeCenter(next);prev=normalizeCenter(prev);return next[0]!==prev[0]||next[1]!==prev[1]};_proto.shouldUpdateBounds=function(next,prev){return prev?!(0,_leaflet.latLngBounds)(next).equals((0,_leaflet.latLngBounds)(prev)):!0};
_proto.render=function(){return _react.default.createElement("div",{className:this.props.className,id:this.props.id,ref:this.bindContainer,style:this.props.style},this.contextValue?_react.default.createElement(_context.LeafletProvider,{value:this.contextValue},this.props.children):null)};return Map}(process.default);exports.default=require}
//# sourceMappingURL=module$node_modules$react_leaflet$lib$Map.js.map
